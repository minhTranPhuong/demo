{"version":3,"sources":["../../../../assets/script/assets/script/main.js"],"names":["COLOR","require","Emitter","arrBlock","cc","Class","extends","Component","properties","card","default","type","Prefab","_arrBlocks","_canPress","onLoad","canPress","instance","systemEvent","on","SystemEvent","EventType","KEY_DOWN","handleKeyDown","KEY_UP","handleKeyUp","evt","keyCode","macro","KEY","up","down","left","right","randomNumber","moveUp","moveDown","moveLeft","moveRight","col","flatArrCard","row","handle","reverse","arrCard","log","i","length","active","checkCompare","j","children","getComponent","string","Number","reValue","blabla","b1","b2","getString","start","render","init","arrRow","x","y","newCard","instantiate","parent","node","color","push","flatArray","flat","Infinity","arrNone","filter","value","index","Math","floor","random","createItem"],"mappings":"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","file":"main.js","sourceRoot":"../../../../assets/script","sourcesContent":["const COLOR = require('color');\nconst Emitter = require('mEmitter');\nlet arrBlock = [];\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        card: {\n            default: null,\n            type: cc.Prefab\n        },\n        _arrBlocks: [],\n\n        _canPress: false,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        this.canPress = false;\n        Emitter.instance = new Emitter();\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.handleKeyDown, this);\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.handleKeyUp, this);\n    },\n\n    handleKeyUp(evt) {\n        switch (evt.keyCode) {\n            case cc.macro.KEY.up:\n            case cc.macro.KEY.down:\n            case cc.macro.KEY.left:\n            case cc.macro.KEY.right:\n                this.randomNumber();\n                this._canPress = false;\n                break;\n            default: break;\n        }\n    },\n    handleKeyDown(evt) {\n        if (this._canPress) return;\n        this._canPress = true;\n        switch (evt.keyCode) {\n            case cc.macro.KEY.up:\n                this.moveUp();\n                break;\n            case cc.macro.KEY.down:\n                this.moveDown();\n                break;\n            case cc.macro.KEY.left:\n                this.moveLeft();\n                break;\n            case cc.macro.KEY.right:\n                this.moveRight();\n                break;\n            default: break;\n        }\n    },\n\n    moveUp() {\n        for (let col = 0; col < 4; col++) {\n            let flatArrCard = [0, 0, 0, 0];\n            for (let row = 0; row < 4; row++) {\n                flatArrCard[row] = this._arrBlocks[row][col];\n            }\n            this.handle(flatArrCard)\n        }\n    },\n    moveDown() {\n        for (let col = 0; col < 4; col++) {\n            let flatArrCard = [0, 0, 0, 0];\n            for (let row = 0; row < 4; row++) {\n                flatArrCard[row] = this._arrBlocks[row][col];\n            }\n\n            this.handle(flatArrCard.reverse())\n        }\n    },\n\n    moveLeft() {\n        for (let row = 0; row < 4; row++) {\n            let flatArrCard = [0, 0, 0, 0];\n            for (let col = 0; col < 4; col++) {\n                flatArrCard[col] = this._arrBlocks[row][col];\n            }\n\n            this.handle(flatArrCard)\n        }\n    },\n\n\n    moveRight() {\n        for (let row = 0; row < 4; row++) {\n            let flatArrCard = [0, 0, 0, 0];\n            for (let col = 0; col < 4; col++) {\n                flatArrCard[col] = this._arrBlocks[row][col];\n            }\n\n            this.handle(flatArrCard.reverse())\n        }\n    },\n\n    handle(arrCard) {//[0,2,2,0],[2,0,2,0],[4,0,0,0]\n        // ở vị trí 0 nó bằng 0=> thì thay đổi giá trị(2 thằng) , active(2 thằng).\n        // ở vị trí 0 nó khác 0 và nó bằng thằng card đó => valueCard * 2 , active(2 thằng), chuyền thằng i =0\n        // ở vị trí 0 nó khác 0 và nó khác thằng card đó=> thì nos thay đổi vị trí của thằng trước nó.\n        //////// ko ở vị trí 0\n        // nếu j = 0  => continue\n        // j =i => => nhân đôi j lên => active lại 2 thằng gán lại giá trị cho i =0,\n        // j khác i => lấy thằng trước nó và thay đổi giá trị \n        cc.log(arrCard);\n        for (let i = 1; i < arrCard.length; i++) {\n            if (arrCard[i].active == false) {\n                continue;\n            }\n            let checkCompare = false;\n            for (let j = i - 1; j >= 0; j--) {\n                if (checkCompare == true) {\n                    j = -1;\n                    break;\n                }               \n                if (j == 0) {\n                    if (arrCard[j].active == false) {\n                        arrCard[j].children[0].getComponent('cc.Label').string = arrCard[i].children[0].getComponent('cc.Label').string;\n                        arrCard[i].children[0].getComponent('cc.Label').string = \"0\";\n                        arrCard[i].active = false;\n                        arrCard[j].active = true;\n                        checkCompare = true;\n                        break;\n                    }\n                    //else if value j == value i => value j * 2 , value i = 0 , active j = true , active i = fasle\n                    else if (arrCard[j].children[0].getComponent('cc.Label').string == arrCard[i].children[0].getComponent('cc.Label').string) {\n                        arrCard[j].children[0].getComponent('cc.Label').string = Number(arrCard[j].children[0].getComponent('cc.Label').string) * 2 + \"\";\n                        arrCard[i].children[0].getComponent('cc.Label').string = \"0\";\n                        arrCard[j].active = true;\n                        arrCard[i].active = false;\n                        checkCompare = true;\n                        break;\n                    }\n                    //else if value j != value i => value j+1 = value i , value i = 0 , active j-1 = true , active i = false; \n                    else if (arrCard[j].children[0].getComponent('cc.Label').string != arrCard[i].children[0].getComponent('cc.Label').string) {\n                        let reValue = j + 1;\n                        checkCompare = true;\n                        if (reValue == i) {\n                            break;\n                        }\n                        else {\n                            arrCard[reValue].children[0].getComponent('cc.Label').string = arrCard[i].children[0].getComponent('cc.Label').string;\n                            arrCard[i].children[0].getComponent('cc.Label').string = \"0\";\n                            arrCard[reValue].active = true;\n                            arrCard[i].active = false;\n                            break;\n                        }\n                    }\n                }\n                //value j active = false => continue\n                if (arrCard[j].active == false) {\n                    cc.log(\"continue\")\n                    continue;\n                }\n                // value j == value i => value j*2 && active j = true , active i = false , gán i = 0\n                this.blabla(arrCard[j], arrCard[i], checkCompare);\n                break;\n                // value j != value i => value j +1 = value i , value i =0 , active j +1 = true , active i = false\n                if (arrCard[j].children[0].getComponent('cc.Label').string != arrCard[i].children[0].getComponent('cc.Label').string) {\n                    checkCompare = true;\n                    let reValue = j + 1;\n                    // nếu value trước là chính nó thì continue\n                    if (reValue == i) {\n                        break;\n                    }\n                    arrCard[reValue].children[0].getComponent('cc.Label').string = arrCard[i].children[0].getComponent('cc.Label').string;\n                    arrCard[i].children[0].getComponent('cc.Label').string = \"0\";\n                    arrCard[reValue].active = true;\n                    arrCard[i].active = false;\n                    break;\n                }\n            }\n        }\n        // cc.log(arrCard)\n    },\n\n    blabla(b1, b2, checkCompare) {\n        if (b1.children[0].getComponent('cc.Label').string == b2.children[0].getComponent('cc.Label').string) {\n            b1.children[0].getComponent('cc.Label').string = Number(b1.children[0].getComponent('cc.Label').string) * 2 + \"\";\n            cc.log(b1.children[0].getComponent('cc.Label').string)\n            b1.active = true;\n            b2.children[0].getComponent('cc.Label').string = \"0\";\n            b2.active = false;\n            checkCompare = true;\n            cc.log(b2, b1)\n            // if(j == 1){\n            //     j = -1;\n            // }\n            \n        }\n    },\n\n    getString(row, col) {\n        return this._arrBlocks[row][col].children[0].getComponent('cc.Label').string;\n    },\n\n    start() {\n        this.render();\n        this.randomNumber()\n    },\n    init() {\n    },\n\n    render() {\n\n        for (let col = 0; col < 4; col++) {\n            let arrRow = [];\n            for (let row = 0; row < 4; row++) {\n                let x = -226.227 + row * 150;\n                let y = 225.631 - col * 150;\n                let newCard = cc.instantiate(this.card);\n                newCard.parent = this.node\n                newCard.x = x;\n                newCard.y = y;\n                newCard.color = COLOR[0];\n\n                newCard.active = false\n                arrRow.push(newCard);\n            }\n            this._arrBlocks.push(arrRow)\n        }\n    },\n\n    randomNumber() {\n        let flatArray = this._arrBlocks.flat(Infinity)\n        let arrNone = flatArray.filter((value) => {\n            return value.active == false;\n        })\n        let index = Math.floor(Math.random() * arrNone.length);\n        arrNone[index].children[0].getComponent('cc.Label').string = 2;\n        arrNone[index].active = true;\n        cc.log(this._arrBlocks);\n    },\n\n    createItem(x, y) {\n        let card = cc.instantiate(this.card);\n        card.parent = this.node\n        card.x = x;\n        card.y = y;\n    },\n\n    // update (dt) {},\n});\n"]}